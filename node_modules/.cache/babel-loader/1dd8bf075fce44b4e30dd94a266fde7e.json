{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tanvi\\\\OneDrive\\\\Desktop\\\\project\\\\React_simple_E_commerce\\\\src\\\\components\\\\UpdateOneProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Form } from 'react-bootstrap';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateOneProduct() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState([]);\n  const [p_name, setP_name] = useState(\"\");\n  const [p_code, setP_code] = useState(\"\");\n  const [p_desc, setP_desc] = useState(\"\");\n  const [p_category, setP_category] = useState(\"\");\n  const [p_price, setP_price] = useState(\"\");\n  const [p_quantity, setP_quantity] = useState(\"\");\n  const [p_stock_date, setP_stock_date] = useState(\"\");\n  const [p_rating, setP_rating] = useState(\"\");\n  const [p_purchased, setP_purchased] = useState(\"\");\n  const [file, setFile] = useState(\"\"); // const navigate = useNavigate();\n\n  useEffect(() => {\n    getdata();\n  }, []);\n  /*const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (localStorage.getItem('user-info')) {\r\n      navigate(\"/add\");\r\n    }\r\n      }, [])*/\n\n  async function getdata() {\n    let result = await fetch(\"http://127.0.0.1:8000/api/edit/\" + id);\n    result = await result.json();\n    setData(result);\n    setP_name(result.p_name);\n    setP_code(result.p_code);\n    setP_category(result.p_category);\n    setP_desc(result.p_desc);\n    setP_price(result.p_price);\n    setP_quantity(result.p_quantity);\n    setP_stock_date(result.p_stock_date);\n    setP_rating(result.p_rating);\n    setP_purchased(result.p_purchased);\n    setFile(result.file);\n  }\n\n  async function updateproduct(id) {\n    //let item = { p_name, p_code, p_desc, p_category, p_price, p_quantity, p_stock_date, p_rating, p_purchased, file };\n    //console.log(item)\n    const formData = new FormData();\n    formData.append('p_name', p_name);\n    formData.append('p_code', p_code);\n    formData.append('p_desc', p_desc);\n    formData.append('p_category', p_category);\n    formData.append('p_price', p_price);\n    formData.append('p_quantity', p_quantity);\n    formData.append('p_stock_date', p_stock_date);\n    formData.append('p_rating', p_rating);\n    formData.append('p_purchased', p_purchased);\n    formData.append('file', file);\n    let result = await fetch(\"http://127.0.0.1:8000/api/update/\" + id + \"?_method=PUT\", {\n      method: 'POST',\n      body: formData\n    });\n    console.log(result);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-8 offset-sm-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: data.id,\n          className: \"form-control\",\n          placeholder: \"Product ID\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 125\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: data.p_name,\n          onChange: e => setP_name(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Product Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 166\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: data.p_code,\n          onChange: e => setP_code(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Product Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 166\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: data.p_desc,\n          onChange: e => setP_desc(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 165\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: data.p_category,\n          onChange: e => setP_category(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 170\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          defaultValue: data.p_price,\n          onChange: e => setP_price(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Product Price\",\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 179\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          defaultValue: data.p_quantity,\n          onChange: e => setP_quantity(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Product Quantity\",\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 188\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          defaultValue: data.p_stock_date,\n          onChange: e => setP_stock_date(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Stock date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 176\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          defaultValue: data.p_rating,\n          onChange: e => setP_rating(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Rating\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Range, {\n            min: \"0\",\n            max: \"10\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: p_rating,\n          className: \"form-control\",\n          placeholder: \"Please Rate this product\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 133\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          defaultValue: data.p_purchased,\n          onChange: e => setP_purchased(e.target.value),\n          className: \"form-control\",\n          placeholder: \"Product purchased\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n            inline: true,\n            label: \"Product purchased\",\n            name: \"purchased\",\n            type: \"radio\",\n            value: \"1\",\n            id: \"radio1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n            inline: true,\n            label: \"Product not purchased\",\n            name: \"purchased\",\n            type: \"radio\",\n            value: \"0\",\n            id: \"radio2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: p_purchased,\n          className: \"form-control\",\n          placeholder: \"Product purchased\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 129\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setFile(e.target.files[0]),\n          className: \"form-control\",\n          placeholder: \"File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 132\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: 240,\n            height: 140\n          },\n          src: \"http://127.0.0.1:8000/\" + data.file_path\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 113\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 120\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateproduct(data.id),\n        className: \"btn btn-secondary\",\n        children: \"Update Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateOneProduct, \"Wup0XJU2NgyPKWSaSRXWGTuwgU0=\", false, function () {\n  return [useParams];\n});\n\n_c = UpdateOneProduct;\nexport default UpdateOneProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateOneProduct\");","map":{"version":3,"sources":["C:/Users/tanvi/OneDrive/Desktop/project/React_simple_E_commerce/src/components/UpdateOneProduct.js"],"names":["React","useState","useEffect","Form","useNavigate","useParams","Header","UpdateOneProduct","id","data","setData","p_name","setP_name","p_code","setP_code","p_desc","setP_desc","p_category","setP_category","p_price","setP_price","p_quantity","setP_quantity","p_stock_date","setP_stock_date","p_rating","setP_rating","p_purchased","setP_purchased","file","setFile","getdata","result","fetch","json","updateproduct","formData","FormData","append","method","body","console","log","e","target","value","files","width","height","file_path"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form } from 'react-bootstrap';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction UpdateOneProduct() {\r\n\r\n    const { id } = useParams();\r\n    const [data, setData] = useState([]);\r\n    const [p_name, setP_name] = useState(\"\");\r\n    const [p_code, setP_code] = useState(\"\");\r\n    const [p_desc, setP_desc] = useState(\"\");\r\n    const [p_category, setP_category] = useState(\"\");\r\n    const [p_price, setP_price] = useState(\"\");\r\n    const [p_quantity, setP_quantity] = useState(\"\");\r\n    const [p_stock_date, setP_stock_date] = useState(\"\");\r\n    const [p_rating, setP_rating] = useState(\"\");\r\n    const [p_purchased, setP_purchased] = useState(\"\");\r\n    const [file, setFile] = useState(\"\");\r\n    // const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        getdata();\r\n    }, []);\r\n    /*const navigate = useNavigate();\r\n    useEffect(() => {\r\n      if (localStorage.getItem('user-info')) {\r\n        navigate(\"/add\");\r\n      }\r\n  \r\n    }, [])*/\r\n\r\n\r\n    async function getdata() {\r\n        let result = await fetch(\"http://127.0.0.1:8000/api/edit/\" + id);\r\n        result = await result.json();\r\n        setData(result)\r\n        setP_name(result.p_name)\r\n        setP_code(result.p_code)\r\n        setP_category(result.p_category)\r\n        setP_desc(result.p_desc)\r\n        setP_price(result.p_price)\r\n        setP_quantity(result.p_quantity)\r\n        setP_stock_date(result.p_stock_date)\r\n        setP_rating(result.p_rating)\r\n        setP_purchased(result.p_purchased)\r\n        setFile(result.file)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    async function updateproduct(id) {\r\n        //let item = { p_name, p_code, p_desc, p_category, p_price, p_quantity, p_stock_date, p_rating, p_purchased, file };\r\n        //console.log(item)\r\n\r\n        const formData = new FormData();\r\n        formData.append('p_name', p_name);\r\n        formData.append('p_code', p_code);\r\n        formData.append('p_desc', p_desc);\r\n        formData.append('p_category', p_category);\r\n        formData.append('p_price', p_price);\r\n        formData.append('p_quantity', p_quantity);\r\n        formData.append('p_stock_date', p_stock_date);\r\n        formData.append('p_rating', p_rating);\r\n        formData.append('p_purchased', p_purchased);\r\n        formData.append('file', file);\r\n\r\n        let result = await fetch(\"http://127.0.0.1:8000/api/update/\" + id + \"?_method=PUT\",\r\n            {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n\r\n        console.log(result);\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <Header />\r\n\r\n            <div className=\"col-sm-8 offset-sm-2\">\r\n\r\n                <h1>Update Product</h1>\r\n                <Form>\r\n                    <input type=\"text\" defaultValue={data.id} className=\"form-control\" placeholder=\"Product ID\" disabled /> <br />\r\n                    <input type=\"text\" defaultValue={data.p_name} onChange={(e) => setP_name(e.target.value)} className=\"form-control\" placeholder=\"Product Name\" /> <br />\r\n                    <input type=\"text\" defaultValue={data.p_code} onChange={(e) => setP_code(e.target.value)} className=\"form-control\" placeholder=\"Product Code\" /> <br />\r\n                    <input type=\"text\" defaultValue={data.p_desc} onChange={(e) => setP_desc(e.target.value)} className=\"form-control\" placeholder=\"Description\" /> <br />\r\n                    <input type=\"text\" defaultValue={data.p_category} onChange={(e) => setP_category(e.target.value)} className=\"form-control\" placeholder=\"Category\" /> <br />\r\n                    <input type=\"number\" defaultValue={data.p_price} onChange={(e) => setP_price(e.target.value)} className=\"form-control\" placeholder=\"Product Price\" min=\"0\" /> <br />\r\n                    <input type=\"number\" defaultValue={data.p_quantity} onChange={(e) => setP_quantity(e.target.value)} className=\"form-control\" placeholder=\"Product Quantity\" min=\"0\" /> <br />\r\n                    <input type=\"date\" defaultValue={data.p_stock_date} onChange={(e) => setP_stock_date(e.target.value)} className=\"form-control\" placeholder=\"Stock date\" /> <br />\r\n\r\n\r\n                    <div defaultValue={data.p_rating} onChange={(e) => setP_rating(e.target.value)} className=\"form-control\" placeholder=\"Rating\">\r\n                        <Form.Label>Rating</Form.Label>\r\n                        <Form.Range min=\"0\" max=\"10\" step=\"0.1\" />\r\n                    </div><br />\r\n                    <input type=\"text\" value={p_rating} className=\"form-control\" placeholder=\"Please Rate this product\" disabled /> <br />\r\n\r\n                    <div defaultValue={data.p_purchased} onChange={(e) => setP_purchased(e.target.value)} className=\"form-control\" placeholder=\"Product purchased\">\r\n                        <Form.Check inline label=\"Product purchased\" name=\"purchased\" type=\"radio\" value=\"1\" id=\"radio1\" />\r\n                        <Form.Check inline label=\"Product not purchased\" name=\"purchased\" type=\"radio\" value=\"0\" id=\"radio2\" />\r\n                    </div> <br />\r\n                    <input type=\"text\" value={p_purchased} className=\"form-control\" placeholder=\"Product purchased\" disabled /> <br />\r\n\r\n\r\n\r\n                    <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} className=\"form-control\" placeholder=\"File\" /> <br />\r\n                    <img style={{ width: 240, height: 140 }} src={\"http://127.0.0.1:8000/\" + data.file_path} /> <br /> <br />\r\n                </Form>\r\n                <button onClick={() => updateproduct(data.id)} className=\"btn btn-secondary\">Update Product</button>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateOneProduct;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}